{"version":3,"sources":["webpack:///static/js/app.6ebef4e773bec58dc17d.js","webpack:///./src/components/TextPictureList.vue","webpack:///./src/App.vue?81bd","webpack:///src/components/TextPicture.vue","webpack:///./src/components/TextPicture.vue","webpack:///./src/App.vue","webpack:///./src/components/TextPicture.vue?a4c4","webpack:///./src/main.js","webpack:///./src/router/index.js","webpack:///./src/components/TextPictureList.vue?f862","webpack:///src/components/TextPictureList.vue","webpack:///src/App.vue"],"names":["webpackJsonp","3/Ej","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_TextPictureList_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_efd2a136_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_TextPictureList_vue__","normalizeComponent","__vue_styles__","Component","7psQ","render","_vm","this","_h","$createElement","_c","_self","attrs","id","to","_v","data","on","collectSave","staticRenderFns","esExports","BfaP","exports","D9ZF","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","n","__WEBPACK_IMPORTED_MODULE_2__TextPictureList__","use","a","name","props","page","$route","params","pageNum","maxResult","collection","collectArr","textPictureData","routeTypeCont","routeTypeNum","computed","collectTextPictureNum","getTextPictureDate","$emit","methods","_this","textPictureUrl","get","showapi_timestamp","Date","now","showapi_appid","showapi_sign","then","response","showapi_res_body","contentlist","refresh","console","log","prev","next","addTextPictureCollect","collectNum","collectTitle","collectState","push","splice","indexOf","components","TextPictureList","mounted","Kbrj","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_TextPicture_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_17e2f927_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_TextPicture_vue__","M93x","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_90d4973c_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","Mrla","staticClass","_s","click","collectTitleArr","textPictureListData","addCollect","NHnr","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_2__router__","config","productionTip","el","router","template","App","YaEn","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__components_TextPicture__","routes","path","redirect","component","lv1N","q+pK","_l","index","key","title","ct","split","text","src","img","alt","_e","class","$event","textPictureCollect","t7gX","collectionNum","textPictureListDataNew","forEach","item","$set","xJD8","picture","routeName","zLXx"],"mappings":"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","file":"static/js/app.6ebef4e773bec58dc17d.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"3/Ej\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_TextPictureList_vue__ = __webpack_require__(\"t7gX\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_efd2a136_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_TextPictureList_vue__ = __webpack_require__(\"q+pK\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"zLXx\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-efd2a136\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_TextPictureList_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_efd2a136_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_TextPictureList_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"7psQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"header\"}},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/text\"}},[_vm._v(\"文本笑话大全\")])],1),_vm._v(\" \"),_c('li',[_c('router-link',{attrs:{\"to\":\"/picture\"}},[_vm._v(\"图片笑话大全\")])],1)])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"content\"}},[_c('keep-alive',[_c('router-view',{attrs:{\"data\":_vm.data},on:{\"collectSave\":_vm.collectSave}})],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"BfaP\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"D9ZF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(\"mtWM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__TextPictureList__ = __webpack_require__(\"3/Ej\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n// 问题：无法检测路由变化\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_axios___default.a);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'text',\n  props: ['data'],\n  data: function data() {\n    return {\n      page: this.data['' + this.$route.params.id].pageNum,\n      maxResult: 6,\n      collection: this.data['' + this.$route.params.id].collection, // 保存收藏数\n      collectArr: this.data['' + this.$route.params.id].collectArr, // 保存被收藏的标题\n      textPictureData: [],\n      routeTypeCont: this.$route.params.id,\n      routeTypeNum: 1\n    };\n  },\n  /*\n  watch: {\n    $route: function (to, from) {    // 监测路由$route变化(本质也是在路由改变后重新获取新数据)\n      // console.log(to, from)\n      // to.params.id和this.$route.params.id相同\n      if (to.params.id !== from.params.id) {\n        if (to.params.id === 'text') {\n          this.routeTypeNum = 1\n        } else if (to.params.id === 'picture') {\n          this.routeTypeNum = 2\n        }\n        this.page = this.data[`${to.params.id}`].pageNum\n        this.collection = this.data[`${to.params.id}`].collection     // 保存收藏数\n        this.collectArr = this.data[`${to.params.id}`].collectArr    // 保存被收藏的标题\n        this.getTextPictureDate()\n        // console.log(1, this.collection)\n      }\n    }\n  },\n  // 设置beforeRouteEnter/beforeRouteUpdate/beforeRouteLeave方法时，必须在方法体中执行next()，否则对应路由组件不被允许显示\n  beforeRouteEnter (to, from, next) {\n    // 在渲染该组件的对应路由被 confirm 前调用\n    // 不！能！获取组件实例 `this`\n    // 因为当守卫执行前，组件实例还没被创建\n  }，\n  beforeRouteUpdate (to, from, next) {    // beforeRouteUpdate守卫，也能监测路由$route变化\n    // 方法一：在导航完成之前重新获取数据\n    // 在当前路由改变，但是该组件被复用时调用（本质）\n    // 举例来说，对于一个带有动态参数的路径 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候，\n    // 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。\n    // 可以访问组件实例 `this`\n    console.log(to, from, next)\n  },\n  beforeRouteLeave (to, from, next) {\n    // 导航离开该组件的对应路由时调用\n    // 可以访问组件实例 `this`\n  }，\n  */\n  computed: {\n    collectTextPictureNum: function collectTextPictureNum() {\n      // 监听collection变化\n      // console.log(this.$route)\n      // 判断当前路由是否改变，如果有改变，需要重新设置数据或请求数据(注意)\n      // 方法二：在导航完成之后重新获取新数据\n      if (this.$route.params.id !== this.routeTypeCont) {\n        if (this.$route.params.id === 'text') {\n          this.routeTypeNum = 1;\n        } else if (this.$route.params.id === 'picture') {\n          this.routeTypeNum = 2;\n        }\n        this.page = this.data['' + this.$route.params.id].pageNum;\n        this.collection = this.data['' + this.$route.params.id].collection; // 保存收藏数\n        this.collectArr = this.data['' + this.$route.params.id].collectArr; // 保存被收藏的标题\n        this.getTextPictureDate();\n        this.routeTypeCont = this.$route.params.id;\n        // console.log(1, this.collection)\n      }\n      this.$emit('collectSave', this.page, this.collection, this.collectArr, this.$route.params.id);\n      return this.collection;\n    }\n  },\n  methods: {\n    getTextPictureDate: function getTextPictureDate() {\n      var _this = this;\n\n      var textPictureUrl = 'https://route.showapi.com/341-' + this.routeTypeNum;\n      __WEBPACK_IMPORTED_MODULE_1_axios___default.a.get(textPictureUrl, {\n        params: {\n          showapi_timestamp: Date.now(),\n          showapi_appid: 37958,\n          showapi_sign: '4657e887ae234d25a11b048176d33214',\n          page: this.page,\n          maxResult: this.maxResult\n        }\n      }).then(function (response) {\n        // console.log(response)\n        _this.textPictureData = response.data.showapi_res_body.contentlist;\n        // console.log(this.textData)\n      });\n    },\n    refresh: function refresh() {\n      console.log('刷新');\n      this.page = 1;\n      this.getTextPictureDate();\n    },\n    prev: function prev() {\n      console.log('上页');\n      if (this.page > 1) {\n        this.page--;\n        this.getTextPictureDate();\n      }\n    },\n    next: function next() {\n      console.log('下页');\n      this.page++;\n      this.getTextPictureDate();\n    },\n    addTextPictureCollect: function addTextPictureCollect(collectNum, collectTitle, collectState) {\n      // console.log(collectNum, collectTitle, collectState)\n      this.collection = collectNum;\n      if (collectState) {\n        this.collectArr.push(collectTitle);\n      } else {\n        this.collectArr.splice(this.collectArr.indexOf(collectTitle), 1);\n      }\n      // console.log(this.collectArr)\n    }\n  },\n  components: {\n    TextPictureList: __WEBPACK_IMPORTED_MODULE_2__TextPictureList__[\"a\" /* default */]\n  },\n  mounted: function mounted() {\n    this.getTextPictureDate();\n  }\n});\n\n/***/ }),\n\n/***/ \"Kbrj\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_TextPicture_vue__ = __webpack_require__(\"D9ZF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_17e2f927_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_TextPicture_vue__ = __webpack_require__(\"Mrla\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"BfaP\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-17e2f927\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_TextPicture_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_17e2f927_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_TextPicture_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_90d4973c_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"7psQ\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"lv1N\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_90d4973c_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"Mrla\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"textPicture\"}},[_c('div',{staticClass:\"textPicture-header\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$route.params.id)+\"笑话大全\")]),_vm._v(\" \"),_c('ul',{staticClass:\"action\"},[_c('li',[_vm._v(_vm._s(_vm.$route.params.id)+\"收藏数：\"+_vm._s(_vm.collectTextPictureNum))]),_vm._v(\" \"),_c('li',{staticClass:\"action-button\",on:{\"click\":_vm.refresh}},[_vm._v(\"刷新\")]),_vm._v(\" \"),_c('li',{staticClass:\"action-button\",on:{\"click\":_vm.prev}},[_vm._v(\"上页\")]),_vm._v(\" \"),_c('li',{staticClass:\"action-button\",on:{\"click\":_vm.next}},[_vm._v(\"下页\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"textPicture-cont\"},[_c('textPictureList',{attrs:{\"collection\":_vm.collection,\"collectTitleArr\":_vm.collectArr,\"textPictureListData\":_vm.textPictureData},on:{\"addCollect\":_vm.addTextPictureCollect}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(\"YaEn\");\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"/ocq\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_TextPicture__ = __webpack_require__(\"Kbrj\");\n\n\n// import Text from '@/components/Text'\n// import Picture from '@/components/Picture'\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  // mode: 'history',    // 将hash形式的地址变成普通形式的地址\n  routes: [{\n    path: '/',\n    // component: Text\n    redirect: function redirect(to) {\n      return { path: '/text' };\n    }\n  },\n  /*\n  {\n    path: '/text',\n    name: 'text',\n    component: Text\n  },\n  {\n    path: '/picture',\n    name: 'picture',\n    component: Picture\n  }\n  */\n  {\n    path: '/:id',\n    component: __WEBPACK_IMPORTED_MODULE_2__components_TextPicture__[\"a\" /* default */]\n  }]\n}));\n\n/***/ }),\n\n/***/ \"lv1N\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"q+pK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"textPictureList\"},_vm._l((_vm.textPictureListDataNew),function(data,index){return _c('li',{key:index},[_c('div',{staticClass:\"title-time\"},[_c('span',[_vm._v(_vm._s(data.title))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(data.ct.split(' ')[0]))])]),_vm._v(\" \"),(_vm.$route.params.id === \"text\")?_c('p',{staticClass:\"textCont\"},[_vm._v(_vm._s(data.text))]):(_vm.$route.params.id === \"picture\")?_c('p',{staticClass:\"pictureCont\"},[_c('img',{attrs:{\"src\":data.img,\"alt\":\"\"}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"collect\"},[_c('span',{class:data.collectState?\"collectAction\":\"\",on:{\"click\":function($event){_vm.textPictureCollect(index)}}},[_vm._v(\"收藏\")])])])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"t7gX\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'textPictureList',\n  props: ['textPictureListData', 'collection', 'collectTitleArr'],\n  data: function data() {\n    return {\n      collectionNum: this.collection,\n      routeTypeCont: this.$route.params.id\n    };\n  },\n  computed: {\n    textPictureListDataNew: function textPictureListDataNew() {\n      var _this = this;\n\n      // 监听textPictureListData变化\n      // console.log(this.textPictureListData)\n      // 判断当前路由(数据)是否改变，如果有改变，需要重新设置collectionNum值(注意)\n      if (this.$route.params.id !== this.routeTypeCont) {\n        this.collectionNum = this.collection;\n        this.routeTypeCont = this.$route.params.id;\n      }\n      this.textPictureListData.forEach(function (item, index) {\n        // console.log(item)\n        if (_this.collectTitleArr.indexOf(item.title) !== -1) {\n          _this.$set(item, 'collectState', true);\n        } else {\n          _this.$set(item, 'collectState', false);\n        }\n      });\n      // console.log(this.textListData)\n      return this.textPictureListData;\n    }\n  },\n  methods: {\n    textPictureCollect: function textPictureCollect(index) {\n      // console.log(2, this.collectionNum)\n      if (this.textPictureListData[index].collectState) {\n        this.collectionNum--;\n      } else {\n        this.collectionNum++;\n      }\n      // console.log(3, this.collectionNum)\n      this.textPictureListData[index].collectState = !this.textPictureListData[index].collectState;\n      this.$emit('addCollect', this.collectionNum, this.textPictureListData[index].title, this.textPictureListData[index].collectState);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      data: {\n        text: {\n          pageNum: 1,\n          collection: 0,\n          collectArr: []\n        },\n        picture: {\n          pageNum: 1,\n          collection: 0,\n          collectArr: []\n        }\n      }\n    };\n  },\n  methods: {\n    collectSave: function collectSave(page, collection, collectArr, routeName) {\n      // console.log(page, collection, collectArr, routeName)\n      this.data[routeName] = {\n        pageNum: page,\n        collection: collection,\n        collectArr: collectArr\n        // console.log(this.data)\n      };\n    }\n  },\n  mounted: function mounted() {\n    // console.log('挂载成功')\n  }\n});\n\n/***/ }),\n\n/***/ \"zLXx\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.6ebef4e773bec58dc17d.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-efd2a136\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TextPictureList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TextPictureList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-efd2a136\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TextPictureList.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-efd2a136\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TextPictureList.vue\n// module id = 3/Ej\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"header\"}},[_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/text\"}},[_vm._v(\"文本笑话大全\")])],1),_vm._v(\" \"),_c('li',[_c('router-link',{attrs:{\"to\":\"/picture\"}},[_vm._v(\"图片笑话大全\")])],1)])]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"content\"}},[_c('keep-alive',[_c('router-view',{attrs:{\"data\":_vm.data},on:{\"collectSave\":_vm.collectSave}})],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-90d4973c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 7psQ\n// module chunks = 1","<template>\n  <div id=\"textPicture\">\n    <div class=\"textPicture-header\">\n      <p class=\"title\">{{$route.params.id}}笑话大全</p>\n      <ul class=\"action\">\n        <li>{{$route.params.id}}收藏数：{{collectTextPictureNum}}</li>\n        <li class='action-button' v-on:click='refresh'>刷新</li>\n        <li class='action-button' v-on:click='prev'>上页</li>\n        <li class='action-button' v-on:click='next'>下页</li>\n      </ul>\n    </div>\n    <div class=\"textPicture-cont\">\n      <textPictureList\n        v-bind:collection='collection'\n        v-bind:collectTitleArr='collectArr'\n        v-bind:textPictureListData='textPictureData' \n        v-on:addCollect='addTextPictureCollect'\n      ></textPictureList>\n    </div>\n  </div>\n</template>\n\n<script>\n// 问题：无法检测路由变化\nimport Vue from 'vue'\nimport axios from 'axios'\n\nimport TextPictureList from './TextPictureList'\n\nVue.use(axios)\n\nexport default {\n  name: 'text',\n  props: ['data'],\n  data: function () {\n    return {\n      page: this.data[`${this.$route.params.id}`].pageNum,\n      maxResult: 6,\n      collection: this.data[`${this.$route.params.id}`].collection,     // 保存收藏数\n      collectArr: this.data[`${this.$route.params.id}`].collectArr,    // 保存被收藏的标题\n      textPictureData: [],\n      routeTypeCont: this.$route.params.id,\n      routeTypeNum: 1\n    }\n  },\n  /*\n  watch: {\n    $route: function (to, from) {    // 监测路由$route变化(本质也是在路由改变后重新获取新数据)\n      // console.log(to, from)\n      // to.params.id和this.$route.params.id相同\n      if (to.params.id !== from.params.id) {\n        if (to.params.id === 'text') {\n          this.routeTypeNum = 1\n        } else if (to.params.id === 'picture') {\n          this.routeTypeNum = 2\n        }\n        this.page = this.data[`${to.params.id}`].pageNum\n        this.collection = this.data[`${to.params.id}`].collection     // 保存收藏数\n        this.collectArr = this.data[`${to.params.id}`].collectArr    // 保存被收藏的标题\n        this.getTextPictureDate()\n        // console.log(1, this.collection)\n      }\n    }\n  },\n  // 设置beforeRouteEnter/beforeRouteUpdate/beforeRouteLeave方法时，必须在方法体中执行next()，否则对应路由组件不被允许显示\n  beforeRouteEnter (to, from, next) {\n    // 在渲染该组件的对应路由被 confirm 前调用\n    // 不！能！获取组件实例 `this`\n    // 因为当守卫执行前，组件实例还没被创建\n  }，\n  beforeRouteUpdate (to, from, next) {    // beforeRouteUpdate守卫，也能监测路由$route变化\n    // 方法一：在导航完成之前重新获取数据\n    // 在当前路由改变，但是该组件被复用时调用（本质）\n    // 举例来说，对于一个带有动态参数的路径 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候，\n    // 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。\n    // 可以访问组件实例 `this`\n    console.log(to, from, next)\n  },\n  beforeRouteLeave (to, from, next) {\n    // 导航离开该组件的对应路由时调用\n    // 可以访问组件实例 `this`\n  }，\n  */\n  computed: {\n    collectTextPictureNum: function () {    // 监听collection变化\n      // console.log(this.$route)\n      // 判断当前路由是否改变，如果有改变，需要重新设置数据或请求数据(注意)\n      // 方法二：在导航完成之后重新获取新数据\n      if (this.$route.params.id !== this.routeTypeCont) {\n        if (this.$route.params.id === 'text') {\n          this.routeTypeNum = 1\n        } else if (this.$route.params.id === 'picture') {\n          this.routeTypeNum = 2\n        }\n        this.page = this.data[`${this.$route.params.id}`].pageNum\n        this.collection = this.data[`${this.$route.params.id}`].collection     // 保存收藏数\n        this.collectArr = this.data[`${this.$route.params.id}`].collectArr    // 保存被收藏的标题\n        this.getTextPictureDate()\n        this.routeTypeCont = this.$route.params.id\n        // console.log(1, this.collection)\n      }\n      this.$emit('collectSave', this.page, this.collection, this.collectArr, this.$route.params.id)\n      return this.collection\n    }\n  },\n  methods: {\n    getTextPictureDate: function () {\n      var textPictureUrl = 'https://route.showapi.com/341-' + this.routeTypeNum\n      axios.get(textPictureUrl, {\n        params: {\n          showapi_timestamp: Date.now(),\n          showapi_appid: 37958,\n          showapi_sign: '4657e887ae234d25a11b048176d33214',\n          page: this.page,\n          maxResult: this.maxResult\n        }\n      })\n      .then(response => {\n        // console.log(response)\n        this.textPictureData = response.data.showapi_res_body.contentlist\n        // console.log(this.textData)\n      })\n    },\n    refresh: function () {\n      console.log('刷新')\n      this.page = 1\n      this.getTextPictureDate()\n    },\n    prev: function () {\n      console.log('上页')\n      if (this.page > 1) {\n        this.page--\n        this.getTextPictureDate()\n      }\n    },\n    next: function () {\n      console.log('下页')\n      this.page++\n      this.getTextPictureDate()\n    },\n    addTextPictureCollect: function (collectNum, collectTitle, collectState) {\n      // console.log(collectNum, collectTitle, collectState)\n      this.collection = collectNum\n      if (collectState) {\n        this.collectArr.push(collectTitle)\n      } else {\n        this.collectArr.splice(this.collectArr.indexOf(collectTitle), 1)\n      }\n      // console.log(this.collectArr)\n    }\n  },\n  components: {\n    TextPictureList\n  },\n  mounted: function () {\n    this.getTextPictureDate()\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#textPicture{\n  height: 100%;\n  /* background: yellow; */\n}\n.textv-header{\n  height: 14%;\n  /* background: purple; */\n}\n.textPicture-cont{\n  height: 86%;\n  overflow-y: auto;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TextPicture.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-17e2f927\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./TextPicture.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./TextPicture.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-17e2f927\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./TextPicture.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-17e2f927\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TextPicture.vue\n// module id = Kbrj\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-90d4973c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-90d4973c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"textPicture\"}},[_c('div',{staticClass:\"textPicture-header\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.$route.params.id)+\"笑话大全\")]),_vm._v(\" \"),_c('ul',{staticClass:\"action\"},[_c('li',[_vm._v(_vm._s(_vm.$route.params.id)+\"收藏数：\"+_vm._s(_vm.collectTextPictureNum))]),_vm._v(\" \"),_c('li',{staticClass:\"action-button\",on:{\"click\":_vm.refresh}},[_vm._v(\"刷新\")]),_vm._v(\" \"),_c('li',{staticClass:\"action-button\",on:{\"click\":_vm.prev}},[_vm._v(\"上页\")]),_vm._v(\" \"),_c('li',{staticClass:\"action-button\",on:{\"click\":_vm.next}},[_vm._v(\"下页\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"textPicture-cont\"},[_c('textPictureList',{attrs:{\"collection\":_vm.collection,\"collectTitleArr\":_vm.collectArr,\"textPictureListData\":_vm.textPictureData},on:{\"addCollect\":_vm.addTextPictureCollect}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-17e2f927\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TextPicture.vue\n// module id = Mrla\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue'\nimport Router from 'vue-router'\n// import Text from '@/components/Text'\n// import Picture from '@/components/Picture'\n\nimport TextPicture from '@/components/TextPicture'\n\nVue.use(Router)\n\nexport default new Router({\n  // mode: 'history',    // 将hash形式的地址变成普通形式的地址\n  routes: [\n    {\n      path: '/',\n      // component: Text\n      redirect: to => {\n        return {path: '/text'}\n      }\n    },\n    /*\n    {\n      path: '/text',\n      name: 'text',\n      component: Text\n    },\n    {\n      path: '/picture',\n      name: 'picture',\n      component: Picture\n    }\n    */\n    {\n      path: '/:id',\n      component: TextPicture\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"textPictureList\"},_vm._l((_vm.textPictureListDataNew),function(data,index){return _c('li',{key:index},[_c('div',{staticClass:\"title-time\"},[_c('span',[_vm._v(_vm._s(data.title))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(data.ct.split(' ')[0]))])]),_vm._v(\" \"),(_vm.$route.params.id === \"text\")?_c('p',{staticClass:\"textCont\"},[_vm._v(_vm._s(data.text))]):(_vm.$route.params.id === \"picture\")?_c('p',{staticClass:\"pictureCont\"},[_c('img',{attrs:{\"src\":data.img,\"alt\":\"\"}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"collect\"},[_c('span',{class:data.collectState?\"collectAction\":\"\",on:{\"click\":function($event){_vm.textPictureCollect(index)}}},[_vm._v(\"收藏\")])])])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-efd2a136\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TextPictureList.vue\n// module id = q+pK\n// module chunks = 1","<template>\n  <ul class=\"textPictureList\">\n    <li v-for=\"(data, index) in textPictureListDataNew\" v-bind:key='index'>\n      <div class='title-time'>\n        <span>{{data.title}}</span>\n        <span>{{data.ct.split(' ')[0]}}</span>\n      </div>\n      <p class='textCont' v-if='$route.params.id === \"text\"'>{{data.text}}</p>\n      <p class='pictureCont' v-else-if='$route.params.id === \"picture\"'><img v-bind:src=\"data.img\" alt=\"\"></p>\n      <div class='collect'>\n        <span v-bind:class='data.collectState?\"collectAction\":\"\"' v-on:click='textPictureCollect(index)'>收藏</span>\n      </div>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'textPictureList',\n  props: ['textPictureListData', 'collection', 'collectTitleArr'],\n  data: function () {\n    return {\n      collectionNum: this.collection,\n      routeTypeCont: this.$route.params.id\n    }\n  },\n  computed: {\n    textPictureListDataNew: function () {     // 监听textPictureListData变化\n      // console.log(this.textPictureListData)\n      // 判断当前路由(数据)是否改变，如果有改变，需要重新设置collectionNum值(注意)\n      if (this.$route.params.id !== this.routeTypeCont) {\n        this.collectionNum = this.collection\n        this.routeTypeCont = this.$route.params.id\n      }\n      this.textPictureListData.forEach((item, index) => {\n        // console.log(item)\n        if (this.collectTitleArr.indexOf(item.title) !== -1) {\n          this.$set(item, 'collectState', true)\n        } else {\n          this.$set(item, 'collectState', false)\n        }\n      })\n      // console.log(this.textListData)\n      return this.textPictureListData\n    }\n  },\n  methods: {\n    textPictureCollect: function (index) {\n      // console.log(2, this.collectionNum)\n      if (this.textPictureListData[index].collectState) {\n        this.collectionNum--\n      } else {\n        this.collectionNum++\n      }\n      // console.log(3, this.collectionNum)\n      this.textPictureListData[index].collectState = !this.textPictureListData[index].collectState\n      this.$emit('addCollect', this.collectionNum, this.textPictureListData[index].title, this.textPictureListData[index].collectState)\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  .textPictureList{\n    padding: 2px 4px;\n    background: #CCC;\n  }\n  .textPictureList>li{\n    margin: 8px 0;\n    padding: 8px;\n    background: #FFF;\n  }\n  .title-time{\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    margin-bottom: 10px; \n  }\n  .title-time>span:last-child{\n    align-self: center;\n    font-size: 12px;\n  }\n  .textPictureList>li>p.textCont{\n    font-size: 12px;\n    line-height: 20px;\n    text-indent: 24px;\n  }\n  .textPictureList>li>p.pictureCont>img{\n    display: block;\n    width: 100%;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/TextPictureList.vue","<template>\n  <div id=\"app\">\n    <div id=\"header\">\n      <ul>\n        <li>\n          <router-link to='/text'>文本笑话大全</router-link>\n          <!-- <router-link :to=\"{path:'/text',query:{name:'text'}}\">文本笑话大全</router-link> -->\n        </li>\n        <li>\n          <router-link to='/picture'>图片笑话大全</router-link>\n          <!-- <router-link :to=\"{path:'/picture',query:{name:'picture'}}\">图片笑话大全</router-link> -->\n        </li>\n      </ul>\n    </div>  \n    <div id=\"content\">\n      <keep-alive>\n        <router-view v-bind:data='data' v-on:collectSave='collectSave'></router-view>\n      </keep-alive>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n  data: function () {\n    return {\n      data: {\n        text: {\n          pageNum: 1,\n          collection: 0,\n          collectArr: []\n        },\n        picture: {\n          pageNum: 1,\n          collection: 0,\n          collectArr: []\n        }\n      }\n    }\n  },\n  methods: {\n    collectSave: function (page, collection, collectArr, routeName) {\n      // console.log(page, collection, collectArr, routeName)\n      this.data[routeName] = {\n        pageNum: page,\n        collection: collection,\n        collectArr: collectArr\n      }\n      // console.log(this.data)\n    }\n  },\n  mounted: function () {\n    // console.log('挂载成功')\n  }\n}\n</script>\n\n<style> \n/* 公共样式 */\n*{\n  margin: 0;\n  padding: 0;\n}\nul>li{\n  list-style: none;\n}\na{\n  text-decoration: none;\n  color: #FFF;\n}\n.title{\n  text-align: center;\n}\n.action{\n  display: flex;\n  flex-direction:row;\n  justify-content: flex-end\n}\n.action>li{\n  margin: 10px 8px;\n  padding: 4px;\n  font-size: 12px;\n}\n.action-button{\n  background: green;\n  border-radius: 4px;\n  color:#FFF;\n}\n.collect{\n  margin: 16px 4px 4px;\n  text-align: right;\n  font-size: 12px;\n}\n.collect>span{\n  padding: 3px 4px;\n  border: 1px solid green;\n  border-radius: 4px;\n}\n.collectAction{\n  background: green;\n  color: #FFF;\n}\n\n\n#app{\n  height: 100%;\n}\n#header{\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 10%;\n  /* background: red; */\n}\n#header>ul{\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n  height: 100%;\n  font-size: 14px;\n}\n#header>ul>li{\n  padding: 4px;\n  border: 1px solid green;\n  background: green;\n}\n#content{\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 90%;\n  /* background: blue; */\n}\n\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}