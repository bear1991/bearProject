<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" type="text/css" href="css/activityled.css" />
		<script type="text/javascript" src="js/jquery.js"></script>
		<title></title>
	</head>

	<body>
		<div id="" class="twologo">
			<img src="img/service.png" />
			<img src="img/sidonghui.png" />
		</div>
		<div id="" class="outbox">
			<div class="inbox" id="inbox">
				<!--<div id="hudong" class="">-->
				<ul id="hudong" class="content bear">
					<li>
						<img src="img/headimg1.png" />
						<div class="trangle"></div>
						<div>
							<span>1刘琪琪1874</span>：
							<p>我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙我要上墙！！！</p>
						</div>
					</li>
					<li>
						<img src="img/headimg1.png" />
						<div class="trangle"></div>
						<div>
							<span>2刘琪琪1874</span>：
							<p>我要上墙我要上墙我要上墙我要上墙！！！</p>
						</div>
					</li>
					<li>
						<img src="img/headimg1.png" />
						<div class="trangle"></div>
						<div>
							<span>3刘琪琪1874</span>：
							<p>我要上墙我要上墙我要上墙我要上墙！！！我要上墙我要上墙我要上墙我要上墙！！！</p>
						</div>
					</li>
					<li>
						<img src="img/headimg1.png" />
						<div class="trangle"></div>
						<div>
							<span>4刘琪琪1874</span>：
							<p>我要上墙我要上墙我要上墙我要上墙！！！</p>
						</div>
					</li>
					<li>
						<img src="img/headimg1.png" />
						<div class="trangle"></div>
						<div>
							<span>5刘琪琪1874</span>：
							<p>我要上墙我要上墙我要上墙我要上墙！！！我要上墙我要上墙我要上墙我要上墙！！！我要上墙我要上墙我要上墙我要上墙！！！</p>
						</div>
					</li>
				</ul>
				<!--</div>-->
				<div id="toupiao" class="content bear">
					<div class="title">
						<span>"你最喜欢的节目是哪个？"</span>
						<span>1600万人参与投票</span>
					</div>
					<ul>
						<li><span><img src="img/gold.png"/></span>
							<span>第1名</span>
							<span>【06号】天外飞仙</span>
							<span>七仙女、董永</span>
							<span>13141314票</span>
						</li>
						<li><span><img src="img/silver.png"/></span>
							<span>第2名</span>
							<span>【06号】天外飞仙</span>
							<span>七仙女、董永</span>
							<span>13141314票</span>
						</li>
						<li><span><img src="img/copper.png"/></span>
							<span>第3名</span>
							<span>【06号】天外飞仙</span>
							<span>七仙女、董永</span>
							<span>13141314票</span>
						</li>
						<li><span></span>
							<span>第4名</span>
							<span>【06号】天外飞仙</span>
							<span>七仙女、董永</span>
							<span>13141314票</span>
						</li>
						<li><span></span>
							<span>第5名</span>
							<span>【06号】天外飞仙</span>
							<span>七仙女、董永</span>
							<span>13141314票</span>
						</li>

					</ul>
				</div>
				<div id="choujiang" class="content">
					<div class="chouchi">
						<div>抽奖池</div>
						<div class="pin">
							一等奖
							<!--<img src="img/left.png" class="left" onclick="rightScroll()" />
							<div class="pincon" id="pincon">
								<div class="pincon-content" id="pincon-content">
									<span class="jp chuxian">一等奖</span>
									<span class="jp yincang">二等奖</span>
									<span class="jp yincang">三等奖</span>
									<span class="jp yincang">荣誉奖</span>
								</div>
							</div>
							<img src="img/right.png" class="right" onclick="leftScroll()" />-->
						</div>
						<div class="slot">
							<img src="img/headimg.png" />
							<span class="name">姓名</span>
						</div>
						<div class="luck-content-btn">
							<a id="start" class="start" onclick="start()">开始抽奖</a>
						</div>
						<div id="" class="chouper">
							<span>1060人参与</span>&nbsp;&nbsp;&nbsp;&nbsp; 抽奖名额
							<select name="" class="select1">
								<option value="">2</option>
								<option value="">4</option>
								<option value="">5</option>
								<option value="">10</option>
							</select>
							个
						</div>
					</div>
					<div class="luck-user">
						<div class="luck-user-title">
							<span>中奖名单</span>
							<a href="" class="orange">1</a>
							<a href="" class="white">2</a>
							<a href="" class="white">3</a>
							<a href="" class="white">4</a>
							<a href="" class="white">5</a>
						</div>
						<ul class="luck-user-list"></ul>
					</div>
				</div>
			</div>
		</div>
		<div id="" class="treetab">
			<a href="#hudong" class="tabs choose">
				<img src="img/hudong.png" /><br /> 互动墙
			</a>
			<a href="#toupiao" class="tabs">
				<img src="img/toupiao.png" /><br /> 投票
			</a>
			<a href="#choujiang" class="tabs">
				<img src="img/choujiang.png" /><br /> 抽奖
			</a>
		</div>
	</body>
	<script type="text/javascript">
		$(document).ready(function() {
			$(".tabs").each(function(index) {
				$(this).click(function() {
					$(".tabs").removeClass("choose");
					$(".tabs").eq(index).addClass("choose");
					$(".content").eq(index).css("display", "block");
					$(".content").eq(index - 2).css("display", "none");
					$(".content").eq(index - 1).css("display", "none");
					$(".content").eq(index + 1).css("display", "none");
					$(".content").eq(index + 2).css("display", "none");
				})
			})
		})
	</script>
	<script src="js/jquery-2.2.1.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		function leftScroll() {
			var jps = $(".jp");
			var b = jps.length;
			for(i = 0; i < b; i++) {
				if(jps[i].classList.contains('chuxian') == true) {
					if(i == b - 1) {

					} else {
						jps[i].classList.remove('chuxian');
						jps[i].classList.add('yincang');
						jps[i + 1].classList.add('chuxian');
						jps[i + 1].classList.remove('yincang');
						break;
					}
				}
			}
		}

		function rightScroll() {
			var jps = $(".jp");
			var b = jps.length;
			for(i = 0; i < b; i++) {
				if(jps[i].classList.contains('chuxian') == true) {
					if(i == 0) {

					} else {
						jps[i].classList.remove('chuxian');
						jps[i].classList.add('yincang');
						jps[i - 1].classList.add('chuxian');
						jps[i - 1].classList.remove('yincang');
						break;
					}
				}
			}
		}
	</script>
	<!--
	<script>
		var xinm = new Array();
		xinm[0] = "img/1.jpg"
		xinm[1] = "img/2.jpg"
		xinm[2] = "img/3.jpg"
		xinm[3] = "img/4.jpg"
		xinm[4] = "img/5.jpg"
		xinm[5] = "img/6.jpg"
		xinm[6] = "img/7.jpg"
		xinm[7] = "img/8.jpg"
		xinm[8] = "img/9.jpg"

		var phone = new Array();
		phone[0] = "王尼玛"
		phone[1] = "张全蛋"
		phone[2] = "纸巾老撕"
		phone[3] = "王铁柱"
		phone[4] = "田二妞"
		phone[5] = "唐马儒"
		phone[6] = "张三"
		phone[7] = "李四"
		phone[8] = "王二麻子"
	</script>
	<script src="js/Luckdraw.js" type="text/javascript"></script>
	<script>
		var c, _ = Function;
		with(o = document.getElementById("hudong")) {
				innerHTML += innerHTML;
				onmouseover = _("c=1");
				onmouseout = _("c=0");
			}
			(F = _("if(#%18||!c)#++,#%=o.scrollHeight>>1;setTimeout(F,#%130?10:1500);".replace(/#/g, "o.scrollTop")))();
	</script>
	-->
	
	<script type="text/javascript">
	/*
	//单道顺序轮播
	var hdChildren = $("#hudong").children()
		hdcHeight = [];
	hdChildren.each(function(i){
		hdcHeight[i] = $(this).height();
	});
	console.log(hdcHeight);

	var num = 0,
		hValue = 0,
		timer = '';    
	run();
	function run(){
		clearTimeout(timer);
		timer = setTimeout(function(){
			console.log(hdcHeight[num]);
			hValue += hdcHeight[num]+20;
			hdChildren.eq(0).animate({
				'marginTop':-hValue+'px'
			},'normal','linear',function(){
				num++;
				if(num<hdcHeight.length){
					run();
				}else{
					return false;
				}
			});
		},1200);
	}
	*/

	
	/*
	//循环无缝轮播
	var hdChildren = $("#hudong").children();
	var timer = '';    
	run();
	function run(){
		clearTimeout(timer);
		timer = setTimeout(function(){
			var hValue = hdChildren.eq(0).height()+20,
				speend = hValue*6;
			//console.log(speend);
			hdChildren.eq(0).animate({
				'marginTop':-hValue+'px'
			},speend,'linear',function(){
				hdChildren.eq(hdChildren.length-1).after(hdChildren.eq(0));
				hdChildren = $("#hudong").children();
				hdChildren.eq(hdChildren.length-1).removeAttr('style');
				run();
			});
		},2000);
	}
	*/


	//添加新值
	var number = 6,
		nodeVal = '';     //保存异步刷新后获取的新内容
	setInterval(function(){
		nodeVal = '<li><img src="img/headimg1.png" /><div class="trangle"></div><div><span>'+ number +'刘琪琪1874</span><p>我要上墙我要上墙我要上墙我要上墙！！！</p></div></li>'
		number++;
	},12000);

	
	

	//循环无缝轮播(可不定时插入新内容)(切换界面后轮播不会停止滚动)
	show("#hudong");
	function show(param){
		var hdChildren = $(param).children(),   //初始获取hdChildren
			hdHeight = $(param).height(),    //获取外框高度（固定）
			timer = '',
			oldNodeVal = '';
		run();
		function run(){
			var newNodeVal = nodeVal;
			//console.log(oldNodeVal,newNodeVal);
			if(newNodeVal !== oldNodeVal){    //判断是否有新值需要插入展示框中
				var sumHeight = 0,
					sumState = true;
				//console.log(hdChildren);
				hdChildren.each(function(i){
					sumHeight += $(this).height()+20;
					if(sumHeight>hdHeight && sumState){
						console.log(i);
						hdChildren.eq(i).after(newNodeVal);    //将新内容插入到展示框最下面可视区块的后面
						sumState = false;
					}
				});
			}
			oldNodeVal = newNodeVal;   //更新保存插入内容的变量值
			
			clearTimeout(timer);
			timer = setTimeout(function(){
				hdChildren = $(param).children();    //重新获取hdChildren
				var hValue = hdChildren.eq(0).height()+20,
					speend = hValue*6;
				//console.log(speend);
				hdChildren.eq(0).animate({
					'marginTop':-hValue+'px'
				},speend,'linear',function(){
					hdChildren.eq(hdChildren.length-1).after(hdChildren.eq(0));     //将展示完成的内容移动到展示列表尾部实现无缝轮播
					hdChildren = $(param).children();     //重新获取hdChildren
					hdChildren.eq(hdChildren.length-1).removeAttr('style');
					var state = false;
					$(param).hover(function(){
						state = true;
						clearTimeout(timer);
					},function(){
						run();
					});
					if(!state){
						run();
					}	
				});
			},2000);
		}
	}

	</script>

</html>