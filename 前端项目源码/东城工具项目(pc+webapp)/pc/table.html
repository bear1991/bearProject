<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>首页</title>
		<meta name="keywords" content="" />
		<meta name="description" content="" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<!-- basic styles -->
		<link href="assets/css/bootstrap.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="assets/css/ace.min.css" />

		<link rel="stylesheet" href="./assets/resource/css/public.css">
        <style>
            .table-wrap{
                width: 80%;
                margin: 40px 10%;
            }

            .btn-app.btn-primary.show-hide{
                position: absolute;
                top: 5px;
                left: 4px;
                width: 40px;
                padding: 0;
                font-size: 12px;
            }
            
            .btn-app.btn-primary.increase,
            .btn-app.btn-primary.update,
            .btn-app.btn-primary.delete{
                width: 40px;
                margin: 0 8px;
                padding: 0;
                font-size: 12px;
            }

            .action{
                top: 5px;
                left: 4px;
            }
            

            .table-striped{
                margin-bottom: 0;
            }
            .table-striped>tbody>tr>td, 
            .table-striped>tbody>tr>td:hover{
                background: #f5f5f5;
            }
        </style>
	</head>

	<body>
        <div class="table-wrap">
            <div class="row">
                <div class="col-xs-12">

                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th class="center"></th>
                                    <th>Domain</th>
                                    <th>Price</th>
                                    <th>Clicks</th>
                                    <th>Update</th>
                                    <th>Status</th>
                                    <th>操作</th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr>
                                    <td class="center">
                                        <label>
                                            <input type="checkbox" class="ace" />
                                            <span class="lbl"></span>
                                        </label>
                                    </td>
                                    <td>
                                        <a href="#">ace.com</a>
                                    </td>
                                    <td>$45</td>
                                    <td>3,330</td>
                                    <td>Feb 12</td>
                                    <td>
                                        <span class="label label-sm label-warning">Expiring</span>
                                    </td>

                                    <td class="pr">
                                        <a href="#" class="btn btn-app btn-primary show-hide">展开</a>
                                    </td>
                                </tr>

                                <tr>
                                    <td class="center">
                                        <label>
                                            <input type="checkbox" class="ace" />
                                            <span class="lbl"></span>
                                        </label>
                                    </td>
                                    <td>
                                        <a href="#">ace.com</a>
                                    </td>
                                    <td>$45</td>
                                    <td>3,330</td>
                                    <td>Feb 12</td>
                                    <td>
                                        <span class="label label-sm label-warning">Expiring</span>
                                    </td>

                                    <td class="pr">
                                        <a href="#" class="btn btn-app btn-primary show-hide">展开</a>
                                    </td>
                                </tr>

                            </tbody>
                        </table>
                    </div><!-- /.table-responsive -->
                </div><!-- /span -->
            </div><!-- /row -->
        </div>
        

		<script type="text/javascript">
			window.jQuery || document.write("<script src='assets/js/jquery-2.0.3.min.js'>"+"<"+"script>");
		</script>
		<script src="assets/js/bootstrap.min.js"></script>
    
		<script>
            // 初始化状态
            $('.show-hide').each(function(){
                this.status = false;
            });
            // 内容展开或折叠切换
            $('.show-hide').on('click', function(){
                if(!this.status){
                    var trCont = document.createElement('tr');
                    trCont.className = "pr show-cont";
                    trCont.innerHTML = '<td colspan="7">'+
                        '<div class="table-responsive"><table class="table table-striped table-bordered table-hover">'+
                        '<thead><tr><th class="center"></th><th>Domain</th><th>Price</th><th>Clicks</th><th>Update</th><th>Status</th>'+
                        '<th><a href="#" class="btn btn-app btn-primary increase">增加</a></th></tr></thead>'+
                        '<tbody><tr><td class="center"><label><input type="checkbox" class="ace" /><span class="lbl"></span></label></td>'+
                        '<td><a href="#">ace.com</a></td><td>$45</td><td>3,330</td><td>Feb 12</td><td><span class="label label-sm label-warning">Expiring</span></td>'+
                        '<td class="pr"><div class="pa action">'+ 
                        '<a href="#" class="btn btn-app btn-primary update">修改</a><a href="#" class="btn btn-app btn-primary delete">删除</a>' +
                        '</div></td></tr></tbody></table></div>'+
                        '</td>';

                    $(this).parents('tr').after(trCont);
                    $(this).html('收起');

                    // 增加
                    $(trCont).find('.increase').on('click', function(){
                        var increCont = document.createElement('tr');
                        increCont.innerHTML = '<td class="center"><label><input type="checkbox" class="ace" /><span class="lbl"></span></label></td>'+
                        '<td><a href="#">ace.com</a></td><td>$45</td><td>3,330</td><td>Feb 12</td><td><span class="label label-sm label-warning">Expiring</span></td>'+
                        '<td class="pr"><div class="pa action">'+ 
                        '<a href="#" class="btn btn-app btn-primary update">修改</a><a href="#" class="btn btn-app btn-primary delete">删除</a>' +
                        '</div></td>';
                        $(this).parents('thead').eq(0).next().append(increCont);

                        // 删除
                        $(increCont).find('.delete').on('click', function(){
                            $(this).parents('tr').eq(0).remove();
                        });
                    });

                    // 删除
                    $(trCont).find('.delete').on('click', function(){
                        $(this).parents('tr').eq(0).remove();
                    });

                }else{
                    $(this).parents('tr').eq(0).next().remove();
                    $(this).html('展开');
                }
                this.status = !this.status; 
            });

        </script>

</body>
</html>

